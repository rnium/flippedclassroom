{% extends 'classroom/base.html' %}
{% block title %}<title>OpenClassroom</title>{% endblock title %}
{% block nav %}
<ul class="navbar-nav ms-5 me-auto mb-2 mb-lg-0">
  <li class="nav-item">
    <a class="nav-link active" aria-current="page" href="#">Dashboard</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Tests</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Assignments</a>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      Student
    </a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#">Student list</a></li>
      <li><a class="dropdown-item" href="#">Student groups</a></li>
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Files</a>
  </li>
</ul>
{% endblock nav %}
{% block content %}
<div class="left-col">
  <div class="classroom-info">
    <div class="title">{{ classroom.name }}</div>
    <div class="num-students">{{ classroom.course }}</div>
    <div class="share-link">
      <button id="share-link">copy join link <i class='bx bx-copy'></i><div id="copy-info" class="copy-info" style="display: none;">copied</div></button>
    </div>
  </div>
  {% if request.user in classroom.teachers.all %}
  <div class="postbox" id="id_postbox" href="#">
    <div class="form">
      <div class="inset-float-textinput">
        <textarea name="description" id="post-descr"></textarea>
        <label for="post-descr">Post description</label>
      </div>
      <div class="form-actions">
        <div class="attachement-container input-file">
          <input type="file" id="post-files" name="post-file" multiple="multiple">
          <label for="post-files"><i class='bx bx-paperclip'></i>Attach Files</label>
          <div class="selected-file" id="postfiles-file">No files selected</div>
        </div>
        <div class="submit-container">
          <button type="submit" id="create-post">Post
            <div class="loader" id="loader" style="display: none;">
              <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
            </div>
          </button>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
  <div class="recent-posts" id="recent-posts" style="display: none;">
    
  </div>

</div>
<div class="right-col">
  <div class="live-tests title-box" id="live_tests">
    <div class="title">Ongoing Tests</div>
    <div class="content">
      <ul>
        <li>
          <div class="test-item">
            <i class='bx bx-edit-alt'></i>
            <div class="info">
              <a href="" class="label-title">Test on electrical circuits 1</a>
              <div class="stat">
                <div class="issued"><i class='bx bx-user-check'></i><span>Issued:&nbsp;</span><span class="value" id="test0-issued">27</span></div>
                <div class="submitted"><i class='bx bx-check-double'></i><span>Submitted:&nbsp;</span><span class="value" id="test0-issued">2</span></div>
              </div>
            </div>
          </div>
        </li>

        <!-- student -->
        <li>
          <div class="test-item">
            <i class='bx bx-edit-alt'></i>
            <div class="info">
              <div class="label-title">Test on electrical circuits 1</div>
              <div class="action">
                <a href="">Take the test</a>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="upcoming title-box">
    <div class="title">Upcoming</div>
    <div class="content">
      <ul>
        <li>
          <div class="test list-item">
            <i class='bx bx-edit-alt'></i>
            <div class="info">
              <div class="label-title">Test on electrical circuits 1</div>
              <div class="time">7:00PM, 17 Oct 2022</div>
            </div>
          </div>
        </li>

        <li>
          <div class="assignment list-item">
            <i class='bx bx-briefcase' ></i>
            <div class="info">
              <a href="" class="label-title">Assignment on electrical circuits 1</a>
              <div class="time">Due: 7:00PM, 17 Oct 2022</div>
            </div>
          </div>
        </li>

        <li>
          <div class="assignment list-item">
            <i class='bx bx-briefcase' ></i>
            <div class="info">
              <a href="" class="label-title">Assignment on house wiring workshop</a>
              <div class="time">Due: 12:00PM, 20 Oct 2022</div>
            </div>
          </div>
        </li>
        <li>

          <div class="assignment list-item">
            <i class='bx bx-briefcase' ></i>
            <div class="info">
              <a href="" class="label-title">Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate, quas?</a>
              <div class="time">Due: 7:00PM, 17 Oct 2022</div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="links title-box">
      <div class="content">
        <a class="create-test" href="{% url 'exam:create_question' classroom.id %}"><i class='bx bx-edit-alt'></i><span>Create New Test</span></a>
        <a class="create-work" href="{% url 'classroom:create_assignment' classroom.id  %}"><i class='bx bx-briefcase'></i><span>Assign a Work</span></a>
      </div>
  </div>
</div>
{% endblock content %}

{% block script %}
{% load static %}
<script>
  const join_link = "{{ join_link }}"
  const classroom_id = "{{ classroom.id }}"
  const post_create_url = "{% url 'classroom:post_to_classroom' classroom.id %}"
</script>
<script src="{% static 'classroom/scripts/classroom_dash.js' %}"></script>
{% endblock script %}