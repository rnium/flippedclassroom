{% extends 'classroom/base.html' %}
{% block style %}<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">{% endblock style %}
{% block title %}<title>Create assignment</title>{% endblock title %}
{% block nav %}
<ul class="navbar-nav ms-5 me-auto mb-2 mb-lg-0">
  <li class="nav-item">
    <a class="nav-link" aria-current="page" href="{% url 'classroom:classroom_detail' classroom.id %}">Dashboard</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Tests</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Assignments</a>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      Student
    </a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#">Student list</a></li>
      <li><a class="dropdown-item" href="#">Student groups</a></li>
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Files</a>
  </li>
</ul>
{% endblock nav %}

{% block content %}
<div class="create-assignment-container">
<div class="page-title">Assignment for {{ classroom.name }}</div>
<form action="{% url 'classroom:create_assignment' classroom.id %}" method="POST" id="create-assignment-form" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="inset-float-textinput-fluid title-field">
      <input class="inp_input" type="text" id="title" name="title" placeholder=" ">
      <label class="inp_label" for="title">Assignment Title</label>
    </div>
    <div class="inset-float-textinput">
      <textarea name="description" id="post-descr" name="post-descr"></textarea>
      <label for="post-descr">Instructions (optional)</label>
    </div>
    <div class="other-fields">
      <div class="deadline">
        <label>Submission deadline:</label>
        <div class="input-container">
          <i class='bx bx-calendar' id='calendar-icon'></i>
          <input type="datetime-local" id="deadline-datetime" placeholder="Select date and time" name="deadline">
          <span class="error-msg" id="error-msg" style="display: none;">*advance date and time required</span>
        </div>
      </div>
      <div class="attachement-container input-file">
        <div class="selected-file" id="postfiles-file">No files selected</div>
        <input type="file" id="post-files" name="attachement" multiple="multiple">
        <label for="post-files"><i class='bx bx-paperclip'></i>Attach Files</label>
      </div>
      
    </div>
    <div class="submit-container">
      <button type="submit" id="create_btn">Create</button>
    </div>
</form>
</div>
{% endblock content %}

{% block script %}
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
{% load static %}
<script type="text/javascript" src="{% static 'classroom/scripts/create_assignment.js' %}"></script>
<script>
  let config = {
    altInput: true,
    altFormat: "d F Y, h:iK",
    dateFormat: "Z",
    enableTime: true,
  }
  flatpickr('#deadline-datetime', config)
</script>
{% endblock script %}